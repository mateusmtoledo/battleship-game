"use strict";
(self["webpackChunkbattleship_game"] = self["webpackChunkbattleship_game"] || []).push([["main"],{

/***/ "./node_modules/css-loader/dist/cjs.js!./src/style.css":
/*!*************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/style.css ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, ":root {\n  font-size: 16px;\n}\n\n*, *::after, *::before {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n\nbody {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\nheader {\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 16px;\n}\n\n.github-link {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  text-decoration: none;\n  color: black;\n}\n\n#boards-container {\n  display: flex;\n  gap: 32px;\n}\n\nmain {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(10, 40px);\n  grid-template-rows: repeat(10, 40px);\n  border: 1px solid black;\n  margin-bottom: 8px;\n}\n\n.square {\n  border: 1px solid black;\n  position: relative;\n}\n\n.ship {\n  border: 1px solid blue;\n  display: flex;\n  position: absolute;\n  background-color: #0000ff33;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n.move-preview {\n  border: 1px solid yellow;\n  display: flex;\n  position: absolute;\n  background-color: #00ff0033;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n.enemy.board .hit, .own.board .miss {\n  background-color: #00ff00;\n}\n\n.own.board .hit, .enemy.board .miss {\n  background-color: #ff0000;\n}\n\nbutton {\n  padding: 8px 16px;\n  border: 1px solid black;\n  border-radius: 8px;\n}\n\n.game-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 16px;\n}\n\n.scoreboard {\n  margin: 16px;\n  text-align: center;\n}\n\n.scores {\n  display: flex;\n  justify-content: center;\n  gap: 32px;\n}\n\n.winner-text {\n  margin: 32px;\n  font-size: 1.4rem;\n  font-weight: 700;\n  min-height: 1em;\n  line-height: 1;\n}\n", "",{"version":3,"sources":["webpack://./src/style.css"],"names":[],"mappings":"AAAA;EACE,eAAe;AACjB;;AAEA;EACE,sBAAsB;EACtB,UAAU;EACV,SAAS;AACX;;AAEA;EACE,iBAAiB;EACjB,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,qBAAqB;EACrB,YAAY;AACd;;AAEA;EACE,aAAa;EACb,SAAS;AACX;;AAEA;EACE,aAAa;EACb,OAAO;EACP,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,uCAAuC;EACvC,oCAAoC;EACpC,uBAAuB;EACvB,kBAAkB;AACpB;;AAEA;EACE,uBAAuB;EACvB,kBAAkB;AACpB;;AAEA;EACE,sBAAsB;EACtB,aAAa;EACb,kBAAkB;EAClB,2BAA2B;EAC3B,WAAW;EACX,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,wBAAwB;EACxB,aAAa;EACb,kBAAkB;EAClB,2BAA2B;EAC3B,WAAW;EACX,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,iBAAiB;EACjB,uBAAuB;EACvB,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,SAAS;AACX;;AAEA;EACE,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,SAAS;AACX;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,gBAAgB;EAChB,eAAe;EACf,cAAc;AAChB","sourcesContent":[":root {\n  font-size: 16px;\n}\n\n*, *::after, *::before {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n\nbody {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\nheader {\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 16px;\n}\n\n.github-link {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  text-decoration: none;\n  color: black;\n}\n\n#boards-container {\n  display: flex;\n  gap: 32px;\n}\n\nmain {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(10, 40px);\n  grid-template-rows: repeat(10, 40px);\n  border: 1px solid black;\n  margin-bottom: 8px;\n}\n\n.square {\n  border: 1px solid black;\n  position: relative;\n}\n\n.ship {\n  border: 1px solid blue;\n  display: flex;\n  position: absolute;\n  background-color: #0000ff33;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n.move-preview {\n  border: 1px solid yellow;\n  display: flex;\n  position: absolute;\n  background-color: #00ff0033;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n.enemy.board .hit, .own.board .miss {\n  background-color: #00ff00;\n}\n\n.own.board .hit, .enemy.board .miss {\n  background-color: #ff0000;\n}\n\nbutton {\n  padding: 8px 16px;\n  border: 1px solid black;\n  border-radius: 8px;\n}\n\n.game-buttons {\n  display: flex;\n  justify-content: center;\n  gap: 16px;\n}\n\n.scoreboard {\n  margin: 16px;\n  text-align: center;\n}\n\n.scores {\n  display: flex;\n  justify-content: center;\n  gap: 32px;\n}\n\n.winner-text {\n  margin: 32px;\n  font-size: 1.4rem;\n  font-weight: 700;\n  min-height: 1em;\n  line-height: 1;\n}\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";

      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }

      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }

      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }

      content += cssWithMappingToString(item);

      if (needLayer) {
        content += "}";
      }

      if (item[2]) {
        content += "}";
      }

      if (item[4]) {
        content += "}";
      }

      return content;
    }).join("");
  }; // import a list of modules into the list


  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }

      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }

      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }

      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }

      list.push(item);
    }
  };

  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {



module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || "").concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join("\n");
  }

  return [content].join("\n");
};

/***/ }),

/***/ "./src/style.css":
/*!***********************!*\
  !*** ./src/style.css ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./src/style.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {



var stylesInDOM = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };

    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);

  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }

      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };

  return updater;
}

module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();

        stylesInDOM.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {



var memo = {};
/* istanbul ignore next  */

function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }

    memo[target] = styleTarget;
  }

  return memo[target];
}
/* istanbul ignore next  */


function insertBySelector(insert, style) {
  var target = getTarget(insert);

  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }

  target.appendChild(style);
}

module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}

module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;

  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}

module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";

  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }

  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }

  var needLayer = typeof obj.layer !== "undefined";

  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }

  css += obj.css;

  if (needLayer) {
    css += "}";
  }

  if (obj.media) {
    css += "}";
  }

  if (obj.supports) {
    css += "}";
  }

  var sourceMap = obj.sourceMap;

  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  options.styleTagTransform(css, styleElement, options.options);
}

function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }

  styleElement.parentNode.removeChild(styleElement);
}
/* istanbul ignore next  */


function domAPI(options) {
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}

module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }

    styleElement.appendChild(document.createTextNode(css));
  }
}

module.exports = styleTagTransform;

/***/ }),

/***/ "./src/Computer.js":
/*!*************************!*\
  !*** ./src/Computer.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Player */ "./src/Player.js");
/* harmony import */ var _pubSub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pubSub */ "./src/pubSub.js");



class Computer extends _Player__WEBPACK_IMPORTED_MODULE_0__["default"] {
  constructor() {
    super('Computer');
    this.score = 0;
    this.play = this.play.bind(this);
    _pubSub__WEBPACK_IMPORTED_MODULE_1__["default"].subscribe('played', (data) => {
      if (data.player === this.opponent && this.opponent.constructor !== Computer) this.play();
    });
  }

  static generateRandomCoordinates() {
    const randomX = Math.floor(Math.random() * 10);
    const randomY = Math.floor(Math.random() * 10);
    return { x: randomX, y: randomY };
  }

  setOpponent(opponent) {
    this.opponent = opponent;
    this.opponent.opponent = this;
    this.turn = true;
    this.opponent.turn = false;
  }

  play() {
    if (!this.turn || !this.opponent) return;
    let randomCoordinates;
    let attacked;
    do {
      randomCoordinates = Computer.generateRandomCoordinates();
      attacked = this.opponent.gameBoard.receiveAttack(randomCoordinates);
    } while (attacked === false);
    if (attacked === 'finished') return;
    this.passTurn();
    _pubSub__WEBPACK_IMPORTED_MODULE_1__["default"].publish('played', { player: this });
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Computer);


/***/ }),

/***/ "./src/EnemyBoard.js":
/*!***************************!*\
  !*** ./src/EnemyBoard.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _pubSub__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pubSub */ "./src/pubSub.js");


class EnemyBoard {
  constructor() {
    this.node = document.createElement('div');
    this.gameBoard = null;
    this.player = null;
    this.squares = (() => {
      const arr = [];
      for (let i = 0; i < 10; i += 1) {
        arr[i] = [];
      }
      return arr;
    })();
    this.attackListener = false;
    this.attackHandler = this.attackHandler.bind(this);
    this.update = this.update.bind(this);
    this.toggleAttackListener = this.toggleAttackListener.bind(this);
    _pubSub__WEBPACK_IMPORTED_MODULE_0__["default"].subscribe('played', this.update);
    this.init();
  }

  init() {
    for (let j = 0; j < 10; j += 1) {
      for (let i = 0; i < 10; i += 1) {
        const square = document.createElement('div');
        square.classList.add('square');
        square.dataset.column = i;
        square.dataset.row = j;
        this.node.append(square);
        this.squares[i][j] = square;
      }
    }
    this.node.classList.add('enemy', 'board');
  }

  setPlayer(player) {
    this.player = player;
    this.gameBoard = this.player.gameBoard;
    this.update();
  }

  update() {
    for (let i = 0; i < 10; i += 1) {
      for (let j = 0; j < 10; j += 1) {
        const square = this.squares[i][j];
        square.classList = 'square';
        const content = this.gameBoard.board[i][j];
        if (content.ship) {
          if (content.ship.hits[content.position]) square.classList.add('hit');
        } else if (content === 'miss') square.classList.add('miss');
      }
    }
  }

  attackHandler(event) {
    const data = event.target.dataset;
    const coordinates = { x: data.column, y: data.row };
    this.player.opponent.play(coordinates);
  }

  toggleAttackListener() {
    if (this.attackListener === false) {
      this.attackListener = true;
      this.node.addEventListener('mousedown', this.attackHandler);
    } else {
      this.attackListener = false;
      this.node.removeEventListener('mousedown', this.attackHandler);
    }
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EnemyBoard);


/***/ }),

/***/ "./src/GameBoard.js":
/*!**************************!*\
  !*** ./src/GameBoard.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _pubSub__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pubSub */ "./src/pubSub.js");
/* harmony import */ var _Ship__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Ship */ "./src/Ship.js");



class GameBoard {
  constructor() {
    this.gameIsOver = false;
    this.ships = [];
    this.board = (() => {
      const arr = [];
      for (let i = 0; i < 10; i += 1) {
        arr[i] = [];
        for (let j = 0; j < 10; j += 1) {
          arr[i][j] = '';
        }
      }
      return arr;
    })();
    _pubSub__WEBPACK_IMPORTED_MODULE_0__["default"].subscribe('played', () => {
      if (this.allShipsAreSunk()) {
        _pubSub__WEBPACK_IMPORTED_MODULE_0__["default"].publish('gameFinished', this);
      }
    });
    _pubSub__WEBPACK_IMPORTED_MODULE_0__["default"].subscribe('gameFinished', () => {
      this.gameIsOver = true;
    });
    this.placeRandomShips();
  }

  placeShip(coordinates, length, isVertical) {
    const ship = new _Ship__WEBPACK_IMPORTED_MODULE_1__["default"](coordinates, length, isVertical);
    const { x, y } = coordinates;
    if (isVertical) {
      for (let j = y; j < y + length; j += 1) {
        this.board[x][j] = {
          ship,
          position: j - y,
        };
      }
    } else {
      for (let i = x; i < x + length; i += 1) {
        this.board[i][y] = {
          ship,
          position: i - x,
        };
      }
    }
    if (!this.ships.includes(ship)) this.ships.push(ship);
    return ship;
  }

  receiveAttack(coordinates) {
    if (this.gameIsOver) return 'finished';
    const { x, y } = coordinates;
    if (!this.isValidAttack(coordinates)) return false;
    const content = this.board[x][y];
    if (content.ship) {
      content.ship.hit(content.position);
      return 'ship';
    }
    this.board[x][y] = 'miss';
    return 'miss';
  }

  allShipsAreSunk() {
    return !!this.ships.length && this.ships.every((ship) => ship.isSunk());
  }

  isValidSquare(coordinates, ship) {
    const { x, y } = coordinates;
    if (x < 0 || x > 9 || y < 0 || y > 9) return false;
    for (let i = x - 1; i <= x + 1 && i < 10; i += 1) {
      if (i < 0) i += 1;
      for (let j = y - 1; j <= y + 1 && j < 10; j += 1) {
        if (j < 0) j += 1;
        if (typeof this.board[i][j] !== 'string' && this.board[i][j].ship !== ship) return false;
      }
    }
    return true;
  }

  canPlaceShip(ship, newCoordinates) {
    const coordinates = newCoordinates || ship.coordinates;
    for (let i = 0; i < ship.length; i += 1) {
      let x;
      let y;
      if (ship.isVertical) {
        x = coordinates.x;
        y = coordinates.y + i;
      } else {
        x = coordinates.x + i;
        y = coordinates.y;
      }
      if (!this.isValidSquare({ x, y }, ship)) return false;
    }
    return true;
  }

  removeShip(ship) {
    for (let i = 0; i < 10; i += 1) {
      for (let j = 0; j < 10; j += 1) {
        if (this.board[i][j].ship === ship) this.board[i][j] = '';
      }
    }
    const index = this.ships.indexOf(ship);
    this.ships.splice(index, 1);
  }

  moveShip(ship, newCoordinates) {
    const { length, isVertical } = ship;
    if (!this.canPlaceShip(ship, newCoordinates)) return false;
    this.removeShip(ship);
    return this.placeShip(newCoordinates, length, isVertical);
  }

  rotateShip(ship) {
    const newIsVertical = !ship.isVertical;
    const oldIsVertical = ship.isVertical;
    const { length, coordinates } = ship;
    this.removeShip(ship);
    const newShip = new _Ship__WEBPACK_IMPORTED_MODULE_1__["default"](coordinates, length, newIsVertical);
    if (!this.canPlaceShip(newShip)) {
      return this.placeShip(coordinates, length, oldIsVertical);
    }
    return this.placeShip(coordinates, length, newIsVertical);
  }

  isValidAttack(coordinates) {
    const { x, y } = coordinates;
    const content = this.board[x][y];
    if (content.ship) {
      if (content.ship.hits[content.position] === true) return false;
    } else if (content === 'miss') return false;
    return true;
  }

  placeRandomShips() {
    this.clear();
    const shipLengths = [2, 3, 3, 4, 5];
    shipLengths.forEach((length) => {
      let coordinates;
      let isVertical;
      do {
        coordinates = {
          x: Math.floor(Math.random() * 10),
          y: Math.floor(Math.random() * 10),
        };
        isVertical = !!Math.floor(Math.random() * 2);
      } while (!this.canPlaceShip({ coordinates, length, isVertical }));
      this.placeShip(coordinates, length, isVertical);
    });
  }

  clear() {
    for (let i = 0; i < 10; i += 1) {
      for (let j = 0; j < 10; j += 1) {
        this.board[i][j] = '';
      }
    }
    this.ships = [];
  }

  reset() {
    this.ships.forEach((ship) => ship.clearHits());
    for (let i = 0; i < 10; i += 1) {
      for (let j = 0; j < 10; j += 1) {
        if (this.board[i][j] === 'miss') this.board[i][j] = '';
      }
    }
    this.gameIsOver = false;
  }

  randomize() {
    this.clear();
    this.placeRandomShips();
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameBoard);


/***/ }),

/***/ "./src/OwnBoard.js":
/*!*************************!*\
  !*** ./src/OwnBoard.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _pubSub__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pubSub */ "./src/pubSub.js");


class OwnBoard {
  constructor() {
    this.node = document.createElement('div');
    this.gameBoard = null;
    this.player = null;
    this.squares = (() => {
      const arr = [];
      for (let i = 0; i < 10; i += 1) {
        arr[i] = [];
      }
      return arr;
    })();

    this.editPhase = false;
    this.draggedShip = null;
    this.draggedPosition = null;

    this.update = this.update.bind(this);
    this.rotateHandler = this.rotateHandler.bind(this);
    this.dragStartHandler = this.dragStartHandler.bind(this);
    this.dropHandler = this.dropHandler.bind(this);
    this.dragEndHandler = this.dragEndHandler.bind(this);

    _pubSub__WEBPACK_IMPORTED_MODULE_0__["default"].subscribe('played', this.update);
    this.init();
  }

  init() {
    for (let j = 0; j < 10; j += 1) {
      for (let i = 0; i < 10; i += 1) {
        const square = document.createElement('div');
        square.classList.add('square');
        square.dataset.column = i;
        square.dataset.row = j;
        this.node.append(square);
        this.squares[i][j] = square;
      }
    }
    this.node.classList.add('own', 'board');
    this.toggleEditPhase();
  }

  setPlayer(player) {
    this.player = player;
    this.gameBoard = this.player.gameBoard;
    this.update();
  }

  update() {
    for (let i = 0; i < 10; i += 1) {
      for (let j = 0; j < 10; j += 1) {
        const square = this.squares[i][j];
        square.classList = 'square';
        const content = this.gameBoard.board[i][j];
        const oldShip = square.querySelector('.ship');
        if (oldShip) oldShip.remove();
        if (content.ship) {
          if (content.ship.hits[content.position]) this.squares[i][j].classList.add('hit');
          if (content.position === 0) {
            const shipElement = document.createElement('div');
            shipElement.classList = 'ship';
            const dimension = content.ship.isVertical ? 'height' : 'width';
            shipElement.style[dimension] = `${content.ship.length * 40 - 2}px`;
            shipElement.setAttribute('draggable', 'true');
            square.append(shipElement);
          }
        } else if (content === 'miss') {
          square.classList.add('miss');
        }
      }
    }
  }

  rotateHandler(event) {
    if (!event.target.classList.contains('ship')) return;
    const path = event.composedPath();
    const x = path[1].dataset.column;
    const y = path[1].dataset.row;
    const { ship } = this.gameBoard.board[x][y];
    this.gameBoard.rotateShip(ship);
    this.update();
  }

  dragStartHandler(event) {
    const { target } = event;
    if (target.classList.contains('square')) {
      this.draggedShip = null;
      return;
    }
    target.style.backgroundColor = '#ffff0033';
    target.style.border = '2px solid #ffff00ff';
    const { x, y } = OwnBoard.getCoordinates(event);
    this.draggedShip = this.gameBoard.board[x][y].ship;
    this.draggedPosition = this.gameBoard.board[x][y].position;
  }

  static dragOverHandler(event) {
    event.preventDefault();
  }

  dropHandler(event) {
    if (!this.draggedShip) return;
    const ship = this.draggedShip;
    const { x, y } = OwnBoard.getCoordinates(event);
    if (x < 0 || y < 0 || x > 9 || y > 9 || typeof x !== 'number' || typeof y !== 'number') return;
    const coordinates = {
      x: ship.isVertical ? x : x - this.draggedPosition,
      y: ship.isVertical ? y - this.draggedPosition : y,
    };
    if (coordinates && this.gameBoard.canPlaceShip(ship, coordinates)) {
      this.gameBoard.moveShip(ship, coordinates);
    }
  }

  static getCoordinates(event) {
    let coordinates;
    if (event.target.classList.contains('ship')) {
      const path = event.composedPath();
      const x = Number(path[1].dataset.column);
      const y = Number(path[1].dataset.row);
      coordinates = {
        x: x + Math.floor(event.offsetX / 40),
        y: y + Math.floor(event.offsetY / 40),
      };
    } else if (event.target.classList.contains('square')) {
      const x = Number(event.target.dataset.column);
      const y = Number(event.target.dataset.row);
      coordinates = { x, y };
    } else coordinates = false;
    return coordinates;
  }

  dragEndHandler(event) {
    event.preventDefault();
    this.update();
  }

  toggleEditPhase() {
    if (this.editPhase === false) {
      this.editPhase = true;
      this.node.addEventListener('dragover', OwnBoard.dragOverHandler);
      this.node.addEventListener('drop', this.dropHandler);
      this.node.addEventListener('dragstart', this.dragStartHandler);
      this.node.addEventListener('dragend', this.dragEndHandler);
      this.node.addEventListener('click', this.rotateHandler);
    } else {
      this.editPhase = false;
      this.node.removeEventListener('dragover', OwnBoard.dragOverHandler);
      this.node.removeEventListener('drop', this.dropHandler);
      this.node.removeEventListener('dragstart', this.dragStartHandler);
      this.node.removeEventListener('dragend', this.dragEndHandler);
      this.node.removeEventListener('click', this.rotateHandler);
    }
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OwnBoard);


/***/ }),

/***/ "./src/Player.js":
/*!***********************!*\
  !*** ./src/Player.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _GameBoard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GameBoard */ "./src/GameBoard.js");
/* harmony import */ var _pubSub__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pubSub */ "./src/pubSub.js");



class Player {
  constructor(name) {
    this.name = name;
    this.gameBoard = new _GameBoard__WEBPACK_IMPORTED_MODULE_0__["default"]();
    this.opponent = null;
    this.turn = null;
    this.score = 0;
  }

  play(coordinates) {
    if (!this.turn || !this.opponent) return false;
    const attacked = this.opponent.gameBoard.receiveAttack(coordinates);
    if (attacked) {
      this.passTurn();
      _pubSub__WEBPACK_IMPORTED_MODULE_1__["default"].publish('played', { player: this });
    }
    return attacked;
  }

  setOpponent(opponent) {
    this.opponent = opponent;
    this.opponent.opponent = this;
    this.turn = true;
    this.opponent.turn = false;
  }

  passTurn() {
    if (!this.turn || !this.opponent) return;
    this.turn = false;
    this.opponent.turn = true;
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Player);


/***/ }),

/***/ "./src/Ship.js":
/*!*********************!*\
  !*** ./src/Ship.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
class Ship {
  constructor(coordinates, length, isVertical) {
    this.length = length;
    this.isVertical = isVertical;
    this.hits = new Array(this.length).fill(false);
    this.coordinates = coordinates;
  }

  hit(position) {
    this.hits[position] = true;
  }

  isSunk() {
    return this.hits.every((hit) => hit);
  }

  clearHits() {
    this.hits = new Array(this.length).fill(false);
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Ship);


/***/ }),

/***/ "./src/game.js":
/*!*********************!*\
  !*** ./src/game.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _OwnBoard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./OwnBoard */ "./src/OwnBoard.js");
/* harmony import */ var _EnemyBoard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EnemyBoard */ "./src/EnemyBoard.js");
/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Player */ "./src/Player.js");
/* harmony import */ var _Computer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Computer */ "./src/Computer.js");
/* harmony import */ var _pubSub__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pubSub */ "./src/pubSub.js");
/* harmony import */ var _scoreBoard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./scoreBoard */ "./src/scoreBoard.js");







function newGame() {
  const container = document.createElement('div');

  const playerBoard = new _OwnBoard__WEBPACK_IMPORTED_MODULE_0__["default"]();
  const player = new _Player__WEBPACK_IMPORTED_MODULE_2__["default"]('Player');
  playerBoard.setPlayer(player);

  const computerBoard = new _EnemyBoard__WEBPACK_IMPORTED_MODULE_1__["default"]();
  const computer = new _Computer__WEBPACK_IMPORTED_MODULE_3__["default"]();
  computerBoard.setPlayer(computer);

  player.setOpponent(computer);

  const startGameButton = document.createElement('button');
  startGameButton.textContent = 'Start Game';
  startGameButton.setAttribute('type', 'button');

  const newGameButton = document.createElement('button');
  newGameButton.textContent = 'New Game';
  newGameButton.setAttribute('type', 'button');
  newGameButton.setAttribute('disabled', 'true');

  const randomizeButton = document.createElement('button');
  randomizeButton.textContent = 'Randomize';
  randomizeButton.setAttribute('type', 'button');

  const scoreBoard = (0,_scoreBoard__WEBPACK_IMPORTED_MODULE_5__["default"])(player, computer);

  const playerBoardContainer = document.createElement('div');
  playerBoardContainer.append(playerBoard.node, randomizeButton);

  const computerBoardContainer = document.createElement('div');
  computerBoardContainer.append(computerBoard.node);

  const gameButtons = document.createElement('div');
  gameButtons.classList.add('game-buttons');
  gameButtons.append(startGameButton, newGameButton);

  const boardsContainer = document.createElement('div');
  boardsContainer.id = 'boards-container';
  boardsContainer.append(playerBoardContainer, computerBoardContainer);

  container.append(boardsContainer, gameButtons, scoreBoard.container);

  _pubSub__WEBPACK_IMPORTED_MODULE_4__["default"].subscribe('gameFinished', (sender) => {
    let winner;
    if (sender === playerBoard.gameBoard) winner = computer;
    else winner = player;
    winner.score += 1;
    scoreBoard.update();
    scoreBoard.displayWinner(winner.name);
    computerBoard.toggleAttackListener();
    newGameButton.removeAttribute('disabled');
  });

  startGameButton.addEventListener('click', () => {
    playerBoard.toggleEditPhase();
    computerBoard.toggleAttackListener();
    startGameButton.setAttribute('disabled', 'true');
    randomizeButton.setAttribute('disabled', 'true');
    if (computer.turn) computer.play();
  });

  newGameButton.addEventListener('click', () => {
    playerBoard.gameBoard.reset();
    computerBoard.gameBoard.reset();
    playerBoard.toggleEditPhase();
    newGameButton.setAttribute('disabled', 'true');
    startGameButton.removeAttribute('disabled');
    randomizeButton.removeAttribute('disabled');
    computerBoard.gameBoard.randomize();
    scoreBoard.hideWinner();
    playerBoard.update();
    computerBoard.update();
  });

  randomizeButton.addEventListener('click', () => {
    playerBoard.gameBoard.randomize();
    playerBoard.update();
  });

  return container;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (newGame);


/***/ }),

/***/ "./src/header.js":
/*!***********************!*\
  !*** ./src/header.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _images_github_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./images/github.png */ "./src/images/github.png");


const header = (() => {
  const container = document.createElement('header');

  const h1 = document.createElement('h1');
  h1.textContent = 'battleships';

  const githubLink = document.createElement('a');
  githubLink.classList.add('github-link');
  githubLink.href = 'https://github.com/mateusmtoledo';
  const githubImg = document.createElement('img');
  githubImg.src = _images_github_png__WEBPACK_IMPORTED_MODULE_0__;
  githubImg.width = 32;
  githubImg.height = 32;
  const githubText = document.createElement('p');
  githubText.textContent = 'mateusmtoledo';
  githubLink.append(githubImg, githubText);

  container.append(h1, githubLink);

  return container;
})();

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (header);


/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style.css */ "./src/style.css");
/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./game */ "./src/game.js");
/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./header */ "./src/header.js");




const main = document.createElement('main');
main.append((0,_game__WEBPACK_IMPORTED_MODULE_1__["default"])());

document.body.append(_header__WEBPACK_IMPORTED_MODULE_2__["default"]);
document.body.append(main);


/***/ }),

/***/ "./src/pubSub.js":
/*!***********************!*\
  !*** ./src/pubSub.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const events = {};

function subscribe(eventName, f) {
  if (!events[eventName]) events[eventName] = [];
  events[eventName].push(f);
}

function publish(eventName, data) {
  if (events[eventName]) {
    events[eventName].forEach((f) => {
      f(data);
    });
  }
}

function unsubscribe(eventName, f) {
  if (events[eventName].includes(f)) events[eventName].splice(events[eventName].indexOf(f));
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({ subscribe, publish, unsubscribe });


/***/ }),

/***/ "./src/scoreBoard.js":
/*!***************************!*\
  !*** ./src/scoreBoard.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function scoreBoardFactory(player, computer) {
  const container = document.createElement('div');
  container.classList.add('scoreboard');

  const winnerText = document.createElement('p');
  winnerText.classList.add('winner-text');

  const playerScoreDiv = document.createElement('div');
  const playerName = document.createElement('div');
  playerName.textContent = player.name;
  const playerScore = document.createElement('p');
  playerScoreDiv.append(playerName, playerScore);

  const computerScoreDiv = document.createElement('div');
  const computerName = document.createElement('div');
  computerName.textContent = computer.name;
  const computerScore = document.createElement('p');
  computerScoreDiv.append(computerName, computerScore);

  const scores = document.createElement('div');
  scores.append(playerScoreDiv, computerScoreDiv);
  scores.classList.add('scores');

  container.append(winnerText, scores);

  const update = () => {
    playerScore.textContent = player.score;
    computerScore.textContent = computer.score;
  };

  const displayWinner = (winnerName) => {
    winnerText.textContent = `${winnerName} won the round!`;
  };

  const hideWinner = () => {
    winnerText.textContent = '';
  };

  update();

  return {
    container,
    update,
    displayWinner,
    hideWinner,
  };
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (scoreBoardFactory);


/***/ }),

/***/ "./src/images/github.png":
/*!*******************************!*\
  !*** ./src/images/github.png ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "b039b2d83982c8256af3.png";

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__("./src/index.js"));
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0E7O0FBRUE7O0FBRUE7QUFDQSxDQUFDOztBQUVELGlFQUFlLE1BQU0sRUFBQzs7Ozs7Ozs7Ozs7Ozs7O0FDeEJEO0FBQ1E7QUFDQzs7QUFFOUI7QUFDQSxZQUFZLGlEQUFPOztBQUVuQixxQkFBcUIsK0NBQU07QUFDM0I7Ozs7Ozs7Ozs7Ozs7OztBQ1JBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlFQUFlLEVBQUUsaUNBQWlDLEVBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ25CbkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQyxZQUFZO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxpQkFBaUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAtZ2FtZS8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1nYW1lLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLWdhbWUvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLWdhbWUvLi9zcmMvc3R5bGUuY3NzPzcxNjMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1nYW1lLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAtZ2FtZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1nYW1lLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAtZ2FtZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLWdhbWUvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLWdhbWUvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLWdhbWUvLi9zcmMvQ29tcHV0ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1nYW1lLy4vc3JjL0VuZW15Qm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1nYW1lLy4vc3JjL0dhbWVCb2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLWdhbWUvLi9zcmMvT3duQm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC1nYW1lLy4vc3JjL1BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLWdhbWUvLi9zcmMvU2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLWdhbWUvLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLWdhbWUvLi9zcmMvaGVhZGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAtZ2FtZS8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLWdhbWUvLi9zcmMvcHViU3ViLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAtZ2FtZS8uL3NyYy9zY29yZUJvYXJkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiOnJvb3Qge1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbn1cXG5cXG4qLCAqOjphZnRlciwgKjo6YmVmb3JlIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbn1cXG5cXG5ib2R5IHtcXG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxufVxcblxcbmhlYWRlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgcGFkZGluZzogOHB4IDE2cHg7XFxufVxcblxcbi5naXRodWItbGluayB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGdhcDogOHB4O1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgY29sb3I6IGJsYWNrO1xcbn1cXG5cXG4jYm9hcmRzLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZ2FwOiAzMnB4O1xcbn1cXG5cXG5tYWluIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4OiAxO1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLmJvYXJkIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgNDBweCk7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgNDBweCk7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG4gIG1hcmdpbi1ib3R0b206IDhweDtcXG59XFxuXFxuLnNxdWFyZSB7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLnNoaXAge1xcbiAgYm9yZGVyOiAxcHggc29saWQgYmx1ZTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMGZmMzM7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHotaW5kZXg6IDE7XFxufVxcblxcbi5tb3ZlLXByZXZpZXcge1xcbiAgYm9yZGVyOiAxcHggc29saWQgeWVsbG93O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMGZmMDAzMztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgei1pbmRleDogMTtcXG59XFxuXFxuLmVuZW15LmJvYXJkIC5oaXQsIC5vd24uYm9hcmQgLm1pc3Mge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwZmYwMDtcXG59XFxuXFxuLm93bi5ib2FyZCAuaGl0LCAuZW5lbXkuYm9hcmQgLm1pc3Mge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmMDAwMDtcXG59XFxuXFxuYnV0dG9uIHtcXG4gIHBhZGRpbmc6IDhweCAxNnB4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxuICBib3JkZXItcmFkaXVzOiA4cHg7XFxufVxcblxcbi5nYW1lLWJ1dHRvbnMge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgZ2FwOiAxNnB4O1xcbn1cXG5cXG4uc2NvcmVib2FyZCB7XFxuICBtYXJnaW46IDE2cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi5zY29yZXMge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgZ2FwOiAzMnB4O1xcbn1cXG5cXG4ud2lubmVyLXRleHQge1xcbiAgbWFyZ2luOiAzMnB4O1xcbiAgZm9udC1zaXplOiAxLjRyZW07XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgbWluLWhlaWdodDogMWVtO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLFVBQVU7RUFDVixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsYUFBYTtFQUNiLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixRQUFRO0VBQ1IscUJBQXFCO0VBQ3JCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGFBQWE7RUFDYixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsT0FBTztFQUNQLHNCQUFzQjtFQUN0Qix1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHVDQUF1QztFQUN2QyxvQ0FBb0M7RUFDcEMsdUJBQXVCO0VBQ3ZCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHVCQUF1QjtFQUN2QixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQiwyQkFBMkI7RUFDM0IsV0FBVztFQUNYLFlBQVk7RUFDWixVQUFVO0FBQ1o7O0FBRUE7RUFDRSx3QkFBd0I7RUFDeEIsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQiwyQkFBMkI7RUFDM0IsV0FBVztFQUNYLFlBQVk7RUFDWixVQUFVO0FBQ1o7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsdUJBQXVCO0VBQ3ZCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsU0FBUztBQUNYOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsU0FBUztBQUNYOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGNBQWM7QUFDaEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiOnJvb3Qge1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbn1cXG5cXG4qLCAqOjphZnRlciwgKjo6YmVmb3JlIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbn1cXG5cXG5ib2R5IHtcXG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxufVxcblxcbmhlYWRlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgcGFkZGluZzogOHB4IDE2cHg7XFxufVxcblxcbi5naXRodWItbGluayB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGdhcDogOHB4O1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgY29sb3I6IGJsYWNrO1xcbn1cXG5cXG4jYm9hcmRzLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZ2FwOiAzMnB4O1xcbn1cXG5cXG5tYWluIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4OiAxO1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLmJvYXJkIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgNDBweCk7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgNDBweCk7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG4gIG1hcmdpbi1ib3R0b206IDhweDtcXG59XFxuXFxuLnNxdWFyZSB7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLnNoaXAge1xcbiAgYm9yZGVyOiAxcHggc29saWQgYmx1ZTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMGZmMzM7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHotaW5kZXg6IDE7XFxufVxcblxcbi5tb3ZlLXByZXZpZXcge1xcbiAgYm9yZGVyOiAxcHggc29saWQgeWVsbG93O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMGZmMDAzMztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgei1pbmRleDogMTtcXG59XFxuXFxuLmVuZW15LmJvYXJkIC5oaXQsIC5vd24uYm9hcmQgLm1pc3Mge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwZmYwMDtcXG59XFxuXFxuLm93bi5ib2FyZCAuaGl0LCAuZW5lbXkuYm9hcmQgLm1pc3Mge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmMDAwMDtcXG59XFxuXFxuYnV0dG9uIHtcXG4gIHBhZGRpbmc6IDhweCAxNnB4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxuICBib3JkZXItcmFkaXVzOiA4cHg7XFxufVxcblxcbi5nYW1lLWJ1dHRvbnMge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgZ2FwOiAxNnB4O1xcbn1cXG5cXG4uc2NvcmVib2FyZCB7XFxuICBtYXJnaW46IDE2cHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi5zY29yZXMge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgZ2FwOiAzMnB4O1xcbn1cXG5cXG4ud2lubmVyLXRleHQge1xcbiAgbWFyZ2luOiAzMnB4O1xcbiAgZm9udC1zaXplOiAxLjRyZW07XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgbWluLWhlaWdodDogMWVtO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCBcIlwiKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcblxuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdXBkYXRlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuXG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cblxuICBjc3MgKz0gb2JqLmNzcztcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiaW1wb3J0IFBsYXllciBmcm9tICcuL1BsYXllcic7XG5pbXBvcnQgcHViU3ViIGZyb20gJy4vcHViU3ViJztcblxuY2xhc3MgQ29tcHV0ZXIgZXh0ZW5kcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignQ29tcHV0ZXInKTtcbiAgICB0aGlzLnNjb3JlID0gMDtcbiAgICB0aGlzLnBsYXkgPSB0aGlzLnBsYXkuYmluZCh0aGlzKTtcbiAgICBwdWJTdWIuc3Vic2NyaWJlKCdwbGF5ZWQnLCAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEucGxheWVyID09PSB0aGlzLm9wcG9uZW50ICYmIHRoaXMub3Bwb25lbnQuY29uc3RydWN0b3IgIT09IENvbXB1dGVyKSB0aGlzLnBsYXkoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBnZW5lcmF0ZVJhbmRvbUNvb3JkaW5hdGVzKCkge1xuICAgIGNvbnN0IHJhbmRvbVggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgY29uc3QgcmFuZG9tWSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgICByZXR1cm4geyB4OiByYW5kb21YLCB5OiByYW5kb21ZIH07XG4gIH1cblxuICBzZXRPcHBvbmVudChvcHBvbmVudCkge1xuICAgIHRoaXMub3Bwb25lbnQgPSBvcHBvbmVudDtcbiAgICB0aGlzLm9wcG9uZW50Lm9wcG9uZW50ID0gdGhpcztcbiAgICB0aGlzLnR1cm4gPSB0cnVlO1xuICAgIHRoaXMub3Bwb25lbnQudHVybiA9IGZhbHNlO1xuICB9XG5cbiAgcGxheSgpIHtcbiAgICBpZiAoIXRoaXMudHVybiB8fCAhdGhpcy5vcHBvbmVudCkgcmV0dXJuO1xuICAgIGxldCByYW5kb21Db29yZGluYXRlcztcbiAgICBsZXQgYXR0YWNrZWQ7XG4gICAgZG8ge1xuICAgICAgcmFuZG9tQ29vcmRpbmF0ZXMgPSBDb21wdXRlci5nZW5lcmF0ZVJhbmRvbUNvb3JkaW5hdGVzKCk7XG4gICAgICBhdHRhY2tlZCA9IHRoaXMub3Bwb25lbnQuZ2FtZUJvYXJkLnJlY2VpdmVBdHRhY2socmFuZG9tQ29vcmRpbmF0ZXMpO1xuICAgIH0gd2hpbGUgKGF0dGFja2VkID09PSBmYWxzZSk7XG4gICAgaWYgKGF0dGFja2VkID09PSAnZmluaXNoZWQnKSByZXR1cm47XG4gICAgdGhpcy5wYXNzVHVybigpO1xuICAgIHB1YlN1Yi5wdWJsaXNoKCdwbGF5ZWQnLCB7IHBsYXllcjogdGhpcyB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb21wdXRlcjtcbiIsImltcG9ydCBwdWJTdWIgZnJvbSAnLi9wdWJTdWInO1xuXG5jbGFzcyBFbmVteUJvYXJkIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5nYW1lQm9hcmQgPSBudWxsO1xuICAgIHRoaXMucGxheWVyID0gbnVsbDtcbiAgICB0aGlzLnNxdWFyZXMgPSAoKCkgPT4ge1xuICAgICAgY29uc3QgYXJyID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpICs9IDEpIHtcbiAgICAgICAgYXJyW2ldID0gW107XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0pKCk7XG4gICAgdGhpcy5hdHRhY2tMaXN0ZW5lciA9IGZhbHNlO1xuICAgIHRoaXMuYXR0YWNrSGFuZGxlciA9IHRoaXMuYXR0YWNrSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnRvZ2dsZUF0dGFja0xpc3RlbmVyID0gdGhpcy50b2dnbGVBdHRhY2tMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHB1YlN1Yi5zdWJzY3JpYmUoJ3BsYXllZCcsIHRoaXMudXBkYXRlKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaiArPSAxKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNxdWFyZS5jbGFzc0xpc3QuYWRkKCdzcXVhcmUnKTtcbiAgICAgICAgc3F1YXJlLmRhdGFzZXQuY29sdW1uID0gaTtcbiAgICAgICAgc3F1YXJlLmRhdGFzZXQucm93ID0gajtcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZChzcXVhcmUpO1xuICAgICAgICB0aGlzLnNxdWFyZXNbaV1bal0gPSBzcXVhcmU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubm9kZS5jbGFzc0xpc3QuYWRkKCdlbmVteScsICdib2FyZCcpO1xuICB9XG5cbiAgc2V0UGxheWVyKHBsYXllcikge1xuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgIHRoaXMuZ2FtZUJvYXJkID0gdGhpcy5wbGF5ZXIuZ2FtZUJvYXJkO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSArPSAxKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqICs9IDEpIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlID0gdGhpcy5zcXVhcmVzW2ldW2pdO1xuICAgICAgICBzcXVhcmUuY2xhc3NMaXN0ID0gJ3NxdWFyZSc7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLmdhbWVCb2FyZC5ib2FyZFtpXVtqXTtcbiAgICAgICAgaWYgKGNvbnRlbnQuc2hpcCkge1xuICAgICAgICAgIGlmIChjb250ZW50LnNoaXAuaGl0c1tjb250ZW50LnBvc2l0aW9uXSkgc3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2hpdCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnRlbnQgPT09ICdtaXNzJykgc3F1YXJlLmNsYXNzTGlzdC5hZGQoJ21pc3MnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhdHRhY2tIYW5kbGVyKGV2ZW50KSB7XG4gICAgY29uc3QgZGF0YSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0O1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0geyB4OiBkYXRhLmNvbHVtbiwgeTogZGF0YS5yb3cgfTtcbiAgICB0aGlzLnBsYXllci5vcHBvbmVudC5wbGF5KGNvb3JkaW5hdGVzKTtcbiAgfVxuXG4gIHRvZ2dsZUF0dGFja0xpc3RlbmVyKCkge1xuICAgIGlmICh0aGlzLmF0dGFja0xpc3RlbmVyID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5hdHRhY2tMaXN0ZW5lciA9IHRydWU7XG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5hdHRhY2tIYW5kbGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hdHRhY2tMaXN0ZW5lciA9IGZhbHNlO1xuICAgICAgdGhpcy5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuYXR0YWNrSGFuZGxlcik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEVuZW15Qm9hcmQ7XG4iLCJpbXBvcnQgcHViU3ViIGZyb20gJy4vcHViU3ViJztcbmltcG9ydCBTaGlwIGZyb20gJy4vU2hpcCc7XG5cbmNsYXNzIEdhbWVCb2FyZCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZ2FtZUlzT3ZlciA9IGZhbHNlO1xuICAgIHRoaXMuc2hpcHMgPSBbXTtcbiAgICB0aGlzLmJvYXJkID0gKCgpID0+IHtcbiAgICAgIGNvbnN0IGFyciA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSArPSAxKSB7XG4gICAgICAgIGFycltpXSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqICs9IDEpIHtcbiAgICAgICAgICBhcnJbaV1bal0gPSAnJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycjtcbiAgICB9KSgpO1xuICAgIHB1YlN1Yi5zdWJzY3JpYmUoJ3BsYXllZCcsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmFsbFNoaXBzQXJlU3VuaygpKSB7XG4gICAgICAgIHB1YlN1Yi5wdWJsaXNoKCdnYW1lRmluaXNoZWQnLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwdWJTdWIuc3Vic2NyaWJlKCdnYW1lRmluaXNoZWQnLCAoKSA9PiB7XG4gICAgICB0aGlzLmdhbWVJc092ZXIgPSB0cnVlO1xuICAgIH0pO1xuICAgIHRoaXMucGxhY2VSYW5kb21TaGlwcygpO1xuICB9XG5cbiAgcGxhY2VTaGlwKGNvb3JkaW5hdGVzLCBsZW5ndGgsIGlzVmVydGljYWwpIHtcbiAgICBjb25zdCBzaGlwID0gbmV3IFNoaXAoY29vcmRpbmF0ZXMsIGxlbmd0aCwgaXNWZXJ0aWNhbCk7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBjb29yZGluYXRlcztcbiAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgZm9yIChsZXQgaiA9IHk7IGogPCB5ICsgbGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgdGhpcy5ib2FyZFt4XVtqXSA9IHtcbiAgICAgICAgICBzaGlwLFxuICAgICAgICAgIHBvc2l0aW9uOiBqIC0geSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IHg7IGkgPCB4ICsgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdGhpcy5ib2FyZFtpXVt5XSA9IHtcbiAgICAgICAgICBzaGlwLFxuICAgICAgICAgIHBvc2l0aW9uOiBpIC0geCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLnNoaXBzLmluY2x1ZGVzKHNoaXApKSB0aGlzLnNoaXBzLnB1c2goc2hpcCk7XG4gICAgcmV0dXJuIHNoaXA7XG4gIH1cblxuICByZWNlaXZlQXR0YWNrKGNvb3JkaW5hdGVzKSB7XG4gICAgaWYgKHRoaXMuZ2FtZUlzT3ZlcikgcmV0dXJuICdmaW5pc2hlZCc7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBjb29yZGluYXRlcztcbiAgICBpZiAoIXRoaXMuaXNWYWxpZEF0dGFjayhjb29yZGluYXRlcykpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBjb250ZW50ID0gdGhpcy5ib2FyZFt4XVt5XTtcbiAgICBpZiAoY29udGVudC5zaGlwKSB7XG4gICAgICBjb250ZW50LnNoaXAuaGl0KGNvbnRlbnQucG9zaXRpb24pO1xuICAgICAgcmV0dXJuICdzaGlwJztcbiAgICB9XG4gICAgdGhpcy5ib2FyZFt4XVt5XSA9ICdtaXNzJztcbiAgICByZXR1cm4gJ21pc3MnO1xuICB9XG5cbiAgYWxsU2hpcHNBcmVTdW5rKCkge1xuICAgIHJldHVybiAhIXRoaXMuc2hpcHMubGVuZ3RoICYmIHRoaXMuc2hpcHMuZXZlcnkoKHNoaXApID0+IHNoaXAuaXNTdW5rKCkpO1xuICB9XG5cbiAgaXNWYWxpZFNxdWFyZShjb29yZGluYXRlcywgc2hpcCkge1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gY29vcmRpbmF0ZXM7XG4gICAgaWYgKHggPCAwIHx8IHggPiA5IHx8IHkgPCAwIHx8IHkgPiA5KSByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IHggLSAxOyBpIDw9IHggKyAxICYmIGkgPCAxMDsgaSArPSAxKSB7XG4gICAgICBpZiAoaSA8IDApIGkgKz0gMTtcbiAgICAgIGZvciAobGV0IGogPSB5IC0gMTsgaiA8PSB5ICsgMSAmJiBqIDwgMTA7IGogKz0gMSkge1xuICAgICAgICBpZiAoaiA8IDApIGogKz0gMTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmJvYXJkW2ldW2pdICE9PSAnc3RyaW5nJyAmJiB0aGlzLmJvYXJkW2ldW2pdLnNoaXAgIT09IHNoaXApIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjYW5QbGFjZVNoaXAoc2hpcCwgbmV3Q29vcmRpbmF0ZXMpIHtcbiAgICBjb25zdCBjb29yZGluYXRlcyA9IG5ld0Nvb3JkaW5hdGVzIHx8IHNoaXAuY29vcmRpbmF0ZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBsZXQgeDtcbiAgICAgIGxldCB5O1xuICAgICAgaWYgKHNoaXAuaXNWZXJ0aWNhbCkge1xuICAgICAgICB4ID0gY29vcmRpbmF0ZXMueDtcbiAgICAgICAgeSA9IGNvb3JkaW5hdGVzLnkgKyBpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeCA9IGNvb3JkaW5hdGVzLnggKyBpO1xuICAgICAgICB5ID0gY29vcmRpbmF0ZXMueTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5pc1ZhbGlkU3F1YXJlKHsgeCwgeSB9LCBzaGlwKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJlbW92ZVNoaXAoc2hpcCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaiArPSAxKSB7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkW2ldW2pdLnNoaXAgPT09IHNoaXApIHRoaXMuYm9hcmRbaV1bal0gPSAnJztcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnNoaXBzLmluZGV4T2Yoc2hpcCk7XG4gICAgdGhpcy5zaGlwcy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgbW92ZVNoaXAoc2hpcCwgbmV3Q29vcmRpbmF0ZXMpIHtcbiAgICBjb25zdCB7IGxlbmd0aCwgaXNWZXJ0aWNhbCB9ID0gc2hpcDtcbiAgICBpZiAoIXRoaXMuY2FuUGxhY2VTaGlwKHNoaXAsIG5ld0Nvb3JkaW5hdGVzKSkgcmV0dXJuIGZhbHNlO1xuICAgIHRoaXMucmVtb3ZlU2hpcChzaGlwKTtcbiAgICByZXR1cm4gdGhpcy5wbGFjZVNoaXAobmV3Q29vcmRpbmF0ZXMsIGxlbmd0aCwgaXNWZXJ0aWNhbCk7XG4gIH1cblxuICByb3RhdGVTaGlwKHNoaXApIHtcbiAgICBjb25zdCBuZXdJc1ZlcnRpY2FsID0gIXNoaXAuaXNWZXJ0aWNhbDtcbiAgICBjb25zdCBvbGRJc1ZlcnRpY2FsID0gc2hpcC5pc1ZlcnRpY2FsO1xuICAgIGNvbnN0IHsgbGVuZ3RoLCBjb29yZGluYXRlcyB9ID0gc2hpcDtcbiAgICB0aGlzLnJlbW92ZVNoaXAoc2hpcCk7XG4gICAgY29uc3QgbmV3U2hpcCA9IG5ldyBTaGlwKGNvb3JkaW5hdGVzLCBsZW5ndGgsIG5ld0lzVmVydGljYWwpO1xuICAgIGlmICghdGhpcy5jYW5QbGFjZVNoaXAobmV3U2hpcCkpIHtcbiAgICAgIHJldHVybiB0aGlzLnBsYWNlU2hpcChjb29yZGluYXRlcywgbGVuZ3RoLCBvbGRJc1ZlcnRpY2FsKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGxhY2VTaGlwKGNvb3JkaW5hdGVzLCBsZW5ndGgsIG5ld0lzVmVydGljYWwpO1xuICB9XG5cbiAgaXNWYWxpZEF0dGFjayhjb29yZGluYXRlcykge1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gY29vcmRpbmF0ZXM7XG4gICAgY29uc3QgY29udGVudCA9IHRoaXMuYm9hcmRbeF1beV07XG4gICAgaWYgKGNvbnRlbnQuc2hpcCkge1xuICAgICAgaWYgKGNvbnRlbnQuc2hpcC5oaXRzW2NvbnRlbnQucG9zaXRpb25dID09PSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChjb250ZW50ID09PSAnbWlzcycpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHBsYWNlUmFuZG9tU2hpcHMoKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIGNvbnN0IHNoaXBMZW5ndGhzID0gWzIsIDMsIDMsIDQsIDVdO1xuICAgIHNoaXBMZW5ndGhzLmZvckVhY2goKGxlbmd0aCkgPT4ge1xuICAgICAgbGV0IGNvb3JkaW5hdGVzO1xuICAgICAgbGV0IGlzVmVydGljYWw7XG4gICAgICBkbyB7XG4gICAgICAgIGNvb3JkaW5hdGVzID0ge1xuICAgICAgICAgIHg6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSxcbiAgICAgICAgICB5OiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCksXG4gICAgICAgIH07XG4gICAgICAgIGlzVmVydGljYWwgPSAhIU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xuICAgICAgfSB3aGlsZSAoIXRoaXMuY2FuUGxhY2VTaGlwKHsgY29vcmRpbmF0ZXMsIGxlbmd0aCwgaXNWZXJ0aWNhbCB9KSk7XG4gICAgICB0aGlzLnBsYWNlU2hpcChjb29yZGluYXRlcywgbGVuZ3RoLCBpc1ZlcnRpY2FsKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaiArPSAxKSB7XG4gICAgICAgIHRoaXMuYm9hcmRbaV1bal0gPSAnJztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zaGlwcyA9IFtdO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zaGlwcy5mb3JFYWNoKChzaGlwKSA9PiBzaGlwLmNsZWFySGl0cygpKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpICs9IDEpIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGogKz0gMSkge1xuICAgICAgICBpZiAodGhpcy5ib2FyZFtpXVtqXSA9PT0gJ21pc3MnKSB0aGlzLmJvYXJkW2ldW2pdID0gJyc7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZ2FtZUlzT3ZlciA9IGZhbHNlO1xuICB9XG5cbiAgcmFuZG9taXplKCkge1xuICAgIHRoaXMuY2xlYXIoKTtcbiAgICB0aGlzLnBsYWNlUmFuZG9tU2hpcHMoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHYW1lQm9hcmQ7XG4iLCJpbXBvcnQgcHViU3ViIGZyb20gJy4vcHViU3ViJztcblxuY2xhc3MgT3duQm9hcmQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmdhbWVCb2FyZCA9IG51bGw7XG4gICAgdGhpcy5wbGF5ZXIgPSBudWxsO1xuICAgIHRoaXMuc3F1YXJlcyA9ICgoKSA9PiB7XG4gICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkgKz0gMSkge1xuICAgICAgICBhcnJbaV0gPSBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnI7XG4gICAgfSkoKTtcblxuICAgIHRoaXMuZWRpdFBoYXNlID0gZmFsc2U7XG4gICAgdGhpcy5kcmFnZ2VkU2hpcCA9IG51bGw7XG4gICAgdGhpcy5kcmFnZ2VkUG9zaXRpb24gPSBudWxsO1xuXG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucm90YXRlSGFuZGxlciA9IHRoaXMucm90YXRlSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZHJhZ1N0YXJ0SGFuZGxlciA9IHRoaXMuZHJhZ1N0YXJ0SGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZHJvcEhhbmRsZXIgPSB0aGlzLmRyb3BIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kcmFnRW5kSGFuZGxlciA9IHRoaXMuZHJhZ0VuZEhhbmRsZXIuYmluZCh0aGlzKTtcblxuICAgIHB1YlN1Yi5zdWJzY3JpYmUoJ3BsYXllZCcsIHRoaXMudXBkYXRlKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaiArPSAxKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNxdWFyZS5jbGFzc0xpc3QuYWRkKCdzcXVhcmUnKTtcbiAgICAgICAgc3F1YXJlLmRhdGFzZXQuY29sdW1uID0gaTtcbiAgICAgICAgc3F1YXJlLmRhdGFzZXQucm93ID0gajtcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZChzcXVhcmUpO1xuICAgICAgICB0aGlzLnNxdWFyZXNbaV1bal0gPSBzcXVhcmU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubm9kZS5jbGFzc0xpc3QuYWRkKCdvd24nLCAnYm9hcmQnKTtcbiAgICB0aGlzLnRvZ2dsZUVkaXRQaGFzZSgpO1xuICB9XG5cbiAgc2V0UGxheWVyKHBsYXllcikge1xuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgIHRoaXMuZ2FtZUJvYXJkID0gdGhpcy5wbGF5ZXIuZ2FtZUJvYXJkO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSArPSAxKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqICs9IDEpIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlID0gdGhpcy5zcXVhcmVzW2ldW2pdO1xuICAgICAgICBzcXVhcmUuY2xhc3NMaXN0ID0gJ3NxdWFyZSc7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLmdhbWVCb2FyZC5ib2FyZFtpXVtqXTtcbiAgICAgICAgY29uc3Qgb2xkU2hpcCA9IHNxdWFyZS5xdWVyeVNlbGVjdG9yKCcuc2hpcCcpO1xuICAgICAgICBpZiAob2xkU2hpcCkgb2xkU2hpcC5yZW1vdmUoKTtcbiAgICAgICAgaWYgKGNvbnRlbnQuc2hpcCkge1xuICAgICAgICAgIGlmIChjb250ZW50LnNoaXAuaGl0c1tjb250ZW50LnBvc2l0aW9uXSkgdGhpcy5zcXVhcmVzW2ldW2pdLmNsYXNzTGlzdC5hZGQoJ2hpdCcpO1xuICAgICAgICAgIGlmIChjb250ZW50LnBvc2l0aW9uID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBzaGlwRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgc2hpcEVsZW1lbnQuY2xhc3NMaXN0ID0gJ3NoaXAnO1xuICAgICAgICAgICAgY29uc3QgZGltZW5zaW9uID0gY29udGVudC5zaGlwLmlzVmVydGljYWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICAgICAgICBzaGlwRWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gYCR7Y29udGVudC5zaGlwLmxlbmd0aCAqIDQwIC0gMn1weGA7XG4gICAgICAgICAgICBzaGlwRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG4gICAgICAgICAgICBzcXVhcmUuYXBwZW5kKHNoaXBFbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29udGVudCA9PT0gJ21pc3MnKSB7XG4gICAgICAgICAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoJ21pc3MnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJvdGF0ZUhhbmRsZXIoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NoaXAnKSkgcmV0dXJuO1xuICAgIGNvbnN0IHBhdGggPSBldmVudC5jb21wb3NlZFBhdGgoKTtcbiAgICBjb25zdCB4ID0gcGF0aFsxXS5kYXRhc2V0LmNvbHVtbjtcbiAgICBjb25zdCB5ID0gcGF0aFsxXS5kYXRhc2V0LnJvdztcbiAgICBjb25zdCB7IHNoaXAgfSA9IHRoaXMuZ2FtZUJvYXJkLmJvYXJkW3hdW3ldO1xuICAgIHRoaXMuZ2FtZUJvYXJkLnJvdGF0ZVNoaXAoc2hpcCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIGRyYWdTdGFydEhhbmRsZXIoZXZlbnQpIHtcbiAgICBjb25zdCB7IHRhcmdldCB9ID0gZXZlbnQ7XG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NxdWFyZScpKSB7XG4gICAgICB0aGlzLmRyYWdnZWRTaGlwID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZmZmZjAwMzMnO1xuICAgIHRhcmdldC5zdHlsZS5ib3JkZXIgPSAnMnB4IHNvbGlkICNmZmZmMDBmZic7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBPd25Cb2FyZC5nZXRDb29yZGluYXRlcyhldmVudCk7XG4gICAgdGhpcy5kcmFnZ2VkU2hpcCA9IHRoaXMuZ2FtZUJvYXJkLmJvYXJkW3hdW3ldLnNoaXA7XG4gICAgdGhpcy5kcmFnZ2VkUG9zaXRpb24gPSB0aGlzLmdhbWVCb2FyZC5ib2FyZFt4XVt5XS5wb3NpdGlvbjtcbiAgfVxuXG4gIHN0YXRpYyBkcmFnT3ZlckhhbmRsZXIoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgZHJvcEhhbmRsZXIoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZHJhZ2dlZFNoaXApIHJldHVybjtcbiAgICBjb25zdCBzaGlwID0gdGhpcy5kcmFnZ2VkU2hpcDtcbiAgICBjb25zdCB7IHgsIHkgfSA9IE93bkJvYXJkLmdldENvb3JkaW5hdGVzKGV2ZW50KTtcbiAgICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+IDkgfHwgeSA+IDkgfHwgdHlwZW9mIHggIT09ICdudW1iZXInIHx8IHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgcmV0dXJuO1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0ge1xuICAgICAgeDogc2hpcC5pc1ZlcnRpY2FsID8geCA6IHggLSB0aGlzLmRyYWdnZWRQb3NpdGlvbixcbiAgICAgIHk6IHNoaXAuaXNWZXJ0aWNhbCA/IHkgLSB0aGlzLmRyYWdnZWRQb3NpdGlvbiA6IHksXG4gICAgfTtcbiAgICBpZiAoY29vcmRpbmF0ZXMgJiYgdGhpcy5nYW1lQm9hcmQuY2FuUGxhY2VTaGlwKHNoaXAsIGNvb3JkaW5hdGVzKSkge1xuICAgICAgdGhpcy5nYW1lQm9hcmQubW92ZVNoaXAoc2hpcCwgY29vcmRpbmF0ZXMpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXRDb29yZGluYXRlcyhldmVudCkge1xuICAgIGxldCBjb29yZGluYXRlcztcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2hpcCcpKSB7XG4gICAgICBjb25zdCBwYXRoID0gZXZlbnQuY29tcG9zZWRQYXRoKCk7XG4gICAgICBjb25zdCB4ID0gTnVtYmVyKHBhdGhbMV0uZGF0YXNldC5jb2x1bW4pO1xuICAgICAgY29uc3QgeSA9IE51bWJlcihwYXRoWzFdLmRhdGFzZXQucm93KTtcbiAgICAgIGNvb3JkaW5hdGVzID0ge1xuICAgICAgICB4OiB4ICsgTWF0aC5mbG9vcihldmVudC5vZmZzZXRYIC8gNDApLFxuICAgICAgICB5OiB5ICsgTWF0aC5mbG9vcihldmVudC5vZmZzZXRZIC8gNDApLFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NxdWFyZScpKSB7XG4gICAgICBjb25zdCB4ID0gTnVtYmVyKGV2ZW50LnRhcmdldC5kYXRhc2V0LmNvbHVtbik7XG4gICAgICBjb25zdCB5ID0gTnVtYmVyKGV2ZW50LnRhcmdldC5kYXRhc2V0LnJvdyk7XG4gICAgICBjb29yZGluYXRlcyA9IHsgeCwgeSB9O1xuICAgIH0gZWxzZSBjb29yZGluYXRlcyA9IGZhbHNlO1xuICAgIHJldHVybiBjb29yZGluYXRlcztcbiAgfVxuXG4gIGRyYWdFbmRIYW5kbGVyKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgdG9nZ2xlRWRpdFBoYXNlKCkge1xuICAgIGlmICh0aGlzLmVkaXRQaGFzZSA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuZWRpdFBoYXNlID0gdHJ1ZTtcbiAgICAgIHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIE93bkJvYXJkLmRyYWdPdmVySGFuZGxlcik7XG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuZHJvcEhhbmRsZXIpO1xuICAgICAgdGhpcy5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuZHJhZ1N0YXJ0SGFuZGxlcik7XG4gICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIHRoaXMuZHJhZ0VuZEhhbmRsZXIpO1xuICAgICAgdGhpcy5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5yb3RhdGVIYW5kbGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lZGl0UGhhc2UgPSBmYWxzZTtcbiAgICAgIHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIE93bkJvYXJkLmRyYWdPdmVySGFuZGxlcik7XG4gICAgICB0aGlzLm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuZHJvcEhhbmRsZXIpO1xuICAgICAgdGhpcy5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuZHJhZ1N0YXJ0SGFuZGxlcik7XG4gICAgICB0aGlzLm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIHRoaXMuZHJhZ0VuZEhhbmRsZXIpO1xuICAgICAgdGhpcy5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5yb3RhdGVIYW5kbGVyKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgT3duQm9hcmQ7XG4iLCJpbXBvcnQgR2FtZUJvYXJkIGZyb20gJy4vR2FtZUJvYXJkJztcbmltcG9ydCBwdWJTdWIgZnJvbSAnLi9wdWJTdWInO1xuXG5jbGFzcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmdhbWVCb2FyZCA9IG5ldyBHYW1lQm9hcmQoKTtcbiAgICB0aGlzLm9wcG9uZW50ID0gbnVsbDtcbiAgICB0aGlzLnR1cm4gPSBudWxsO1xuICAgIHRoaXMuc2NvcmUgPSAwO1xuICB9XG5cbiAgcGxheShjb29yZGluYXRlcykge1xuICAgIGlmICghdGhpcy50dXJuIHx8ICF0aGlzLm9wcG9uZW50KSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgYXR0YWNrZWQgPSB0aGlzLm9wcG9uZW50LmdhbWVCb2FyZC5yZWNlaXZlQXR0YWNrKGNvb3JkaW5hdGVzKTtcbiAgICBpZiAoYXR0YWNrZWQpIHtcbiAgICAgIHRoaXMucGFzc1R1cm4oKTtcbiAgICAgIHB1YlN1Yi5wdWJsaXNoKCdwbGF5ZWQnLCB7IHBsYXllcjogdGhpcyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dGFja2VkO1xuICB9XG5cbiAgc2V0T3Bwb25lbnQob3Bwb25lbnQpIHtcbiAgICB0aGlzLm9wcG9uZW50ID0gb3Bwb25lbnQ7XG4gICAgdGhpcy5vcHBvbmVudC5vcHBvbmVudCA9IHRoaXM7XG4gICAgdGhpcy50dXJuID0gdHJ1ZTtcbiAgICB0aGlzLm9wcG9uZW50LnR1cm4gPSBmYWxzZTtcbiAgfVxuXG4gIHBhc3NUdXJuKCkge1xuICAgIGlmICghdGhpcy50dXJuIHx8ICF0aGlzLm9wcG9uZW50KSByZXR1cm47XG4gICAgdGhpcy50dXJuID0gZmFsc2U7XG4gICAgdGhpcy5vcHBvbmVudC50dXJuID0gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQbGF5ZXI7XG4iLCJjbGFzcyBTaGlwIHtcbiAgY29uc3RydWN0b3IoY29vcmRpbmF0ZXMsIGxlbmd0aCwgaXNWZXJ0aWNhbCkge1xuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XG4gICAgdGhpcy5oaXRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKS5maWxsKGZhbHNlKTtcbiAgICB0aGlzLmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XG4gIH1cblxuICBoaXQocG9zaXRpb24pIHtcbiAgICB0aGlzLmhpdHNbcG9zaXRpb25dID0gdHJ1ZTtcbiAgfVxuXG4gIGlzU3VuaygpIHtcbiAgICByZXR1cm4gdGhpcy5oaXRzLmV2ZXJ5KChoaXQpID0+IGhpdCk7XG4gIH1cblxuICBjbGVhckhpdHMoKSB7XG4gICAgdGhpcy5oaXRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKS5maWxsKGZhbHNlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaGlwO1xuIiwiaW1wb3J0IE93bkJvYXJkIGZyb20gJy4vT3duQm9hcmQnO1xuaW1wb3J0IEVuZW15Qm9hcmQgZnJvbSAnLi9FbmVteUJvYXJkJztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi9QbGF5ZXInO1xuaW1wb3J0IENvbXB1dGVyIGZyb20gJy4vQ29tcHV0ZXInO1xuaW1wb3J0IHB1YlN1YiBmcm9tICcuL3B1YlN1Yic7XG5pbXBvcnQgc2NvcmVCb2FyZEZhY3RvcnkgZnJvbSAnLi9zY29yZUJvYXJkJztcblxuZnVuY3Rpb24gbmV3R2FtZSgpIHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgY29uc3QgcGxheWVyQm9hcmQgPSBuZXcgT3duQm9hcmQoKTtcbiAgY29uc3QgcGxheWVyID0gbmV3IFBsYXllcignUGxheWVyJyk7XG4gIHBsYXllckJvYXJkLnNldFBsYXllcihwbGF5ZXIpO1xuXG4gIGNvbnN0IGNvbXB1dGVyQm9hcmQgPSBuZXcgRW5lbXlCb2FyZCgpO1xuICBjb25zdCBjb21wdXRlciA9IG5ldyBDb21wdXRlcigpO1xuICBjb21wdXRlckJvYXJkLnNldFBsYXllcihjb21wdXRlcik7XG5cbiAgcGxheWVyLnNldE9wcG9uZW50KGNvbXB1dGVyKTtcblxuICBjb25zdCBzdGFydEdhbWVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgc3RhcnRHYW1lQnV0dG9uLnRleHRDb250ZW50ID0gJ1N0YXJ0IEdhbWUnO1xuICBzdGFydEdhbWVCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuXG4gIGNvbnN0IG5ld0dhbWVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgbmV3R2FtZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdOZXcgR2FtZSc7XG4gIG5ld0dhbWVCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICBuZXdHYW1lQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuXG4gIGNvbnN0IHJhbmRvbWl6ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICByYW5kb21pemVCdXR0b24udGV4dENvbnRlbnQgPSAnUmFuZG9taXplJztcbiAgcmFuZG9taXplQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcblxuICBjb25zdCBzY29yZUJvYXJkID0gc2NvcmVCb2FyZEZhY3RvcnkocGxheWVyLCBjb21wdXRlcik7XG5cbiAgY29uc3QgcGxheWVyQm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcGxheWVyQm9hcmRDb250YWluZXIuYXBwZW5kKHBsYXllckJvYXJkLm5vZGUsIHJhbmRvbWl6ZUJ1dHRvbik7XG5cbiAgY29uc3QgY29tcHV0ZXJCb2FyZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb21wdXRlckJvYXJkQ29udGFpbmVyLmFwcGVuZChjb21wdXRlckJvYXJkLm5vZGUpO1xuXG4gIGNvbnN0IGdhbWVCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGdhbWVCdXR0b25zLmNsYXNzTGlzdC5hZGQoJ2dhbWUtYnV0dG9ucycpO1xuICBnYW1lQnV0dG9ucy5hcHBlbmQoc3RhcnRHYW1lQnV0dG9uLCBuZXdHYW1lQnV0dG9uKTtcblxuICBjb25zdCBib2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgYm9hcmRzQ29udGFpbmVyLmlkID0gJ2JvYXJkcy1jb250YWluZXInO1xuICBib2FyZHNDb250YWluZXIuYXBwZW5kKHBsYXllckJvYXJkQ29udGFpbmVyLCBjb21wdXRlckJvYXJkQ29udGFpbmVyKTtcblxuICBjb250YWluZXIuYXBwZW5kKGJvYXJkc0NvbnRhaW5lciwgZ2FtZUJ1dHRvbnMsIHNjb3JlQm9hcmQuY29udGFpbmVyKTtcblxuICBwdWJTdWIuc3Vic2NyaWJlKCdnYW1lRmluaXNoZWQnLCAoc2VuZGVyKSA9PiB7XG4gICAgbGV0IHdpbm5lcjtcbiAgICBpZiAoc2VuZGVyID09PSBwbGF5ZXJCb2FyZC5nYW1lQm9hcmQpIHdpbm5lciA9IGNvbXB1dGVyO1xuICAgIGVsc2Ugd2lubmVyID0gcGxheWVyO1xuICAgIHdpbm5lci5zY29yZSArPSAxO1xuICAgIHNjb3JlQm9hcmQudXBkYXRlKCk7XG4gICAgc2NvcmVCb2FyZC5kaXNwbGF5V2lubmVyKHdpbm5lci5uYW1lKTtcbiAgICBjb21wdXRlckJvYXJkLnRvZ2dsZUF0dGFja0xpc3RlbmVyKCk7XG4gICAgbmV3R2FtZUJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gIH0pO1xuXG4gIHN0YXJ0R2FtZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBwbGF5ZXJCb2FyZC50b2dnbGVFZGl0UGhhc2UoKTtcbiAgICBjb21wdXRlckJvYXJkLnRvZ2dsZUF0dGFja0xpc3RlbmVyKCk7XG4gICAgc3RhcnRHYW1lQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIHJhbmRvbWl6ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICBpZiAoY29tcHV0ZXIudHVybikgY29tcHV0ZXIucGxheSgpO1xuICB9KTtcblxuICBuZXdHYW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHBsYXllckJvYXJkLmdhbWVCb2FyZC5yZXNldCgpO1xuICAgIGNvbXB1dGVyQm9hcmQuZ2FtZUJvYXJkLnJlc2V0KCk7XG4gICAgcGxheWVyQm9hcmQudG9nZ2xlRWRpdFBoYXNlKCk7XG4gICAgbmV3R2FtZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICBzdGFydEdhbWVCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIHJhbmRvbWl6ZUJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgY29tcHV0ZXJCb2FyZC5nYW1lQm9hcmQucmFuZG9taXplKCk7XG4gICAgc2NvcmVCb2FyZC5oaWRlV2lubmVyKCk7XG4gICAgcGxheWVyQm9hcmQudXBkYXRlKCk7XG4gICAgY29tcHV0ZXJCb2FyZC51cGRhdGUoKTtcbiAgfSk7XG5cbiAgcmFuZG9taXplQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHBsYXllckJvYXJkLmdhbWVCb2FyZC5yYW5kb21pemUoKTtcbiAgICBwbGF5ZXJCb2FyZC51cGRhdGUoKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3R2FtZTtcbiIsImltcG9ydCBnaXRodWJJY29uIGZyb20gJy4vaW1hZ2VzL2dpdGh1Yi5wbmcnO1xuXG5jb25zdCBoZWFkZXIgPSAoKCkgPT4ge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcblxuICBjb25zdCBoMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gIGgxLnRleHRDb250ZW50ID0gJ2JhdHRsZXNoaXBzJztcblxuICBjb25zdCBnaXRodWJMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBnaXRodWJMaW5rLmNsYXNzTGlzdC5hZGQoJ2dpdGh1Yi1saW5rJyk7XG4gIGdpdGh1YkxpbmsuaHJlZiA9ICdodHRwczovL2dpdGh1Yi5jb20vbWF0ZXVzbXRvbGVkbyc7XG4gIGNvbnN0IGdpdGh1YkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBnaXRodWJJbWcuc3JjID0gZ2l0aHViSWNvbjtcbiAgZ2l0aHViSW1nLndpZHRoID0gMzI7XG4gIGdpdGh1YkltZy5oZWlnaHQgPSAzMjtcbiAgY29uc3QgZ2l0aHViVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgZ2l0aHViVGV4dC50ZXh0Q29udGVudCA9ICdtYXRldXNtdG9sZWRvJztcbiAgZ2l0aHViTGluay5hcHBlbmQoZ2l0aHViSW1nLCBnaXRodWJUZXh0KTtcblxuICBjb250YWluZXIuYXBwZW5kKGgxLCBnaXRodWJMaW5rKTtcblxuICByZXR1cm4gY29udGFpbmVyO1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgaGVhZGVyO1xuIiwiaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgbmV3R2FtZSBmcm9tICcuL2dhbWUnO1xuaW1wb3J0IGhlYWRlciBmcm9tICcuL2hlYWRlcic7XG5cbmNvbnN0IG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XG5tYWluLmFwcGVuZChuZXdHYW1lKCkpO1xuXG5kb2N1bWVudC5ib2R5LmFwcGVuZChoZWFkZXIpO1xuZG9jdW1lbnQuYm9keS5hcHBlbmQobWFpbik7XG4iLCJjb25zdCBldmVudHMgPSB7fTtcblxuZnVuY3Rpb24gc3Vic2NyaWJlKGV2ZW50TmFtZSwgZikge1xuICBpZiAoIWV2ZW50c1tldmVudE5hbWVdKSBldmVudHNbZXZlbnROYW1lXSA9IFtdO1xuICBldmVudHNbZXZlbnROYW1lXS5wdXNoKGYpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKGV2ZW50TmFtZSwgZGF0YSkge1xuICBpZiAoZXZlbnRzW2V2ZW50TmFtZV0pIHtcbiAgICBldmVudHNbZXZlbnROYW1lXS5mb3JFYWNoKChmKSA9PiB7XG4gICAgICBmKGRhdGEpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuc3Vic2NyaWJlKGV2ZW50TmFtZSwgZikge1xuICBpZiAoZXZlbnRzW2V2ZW50TmFtZV0uaW5jbHVkZXMoZikpIGV2ZW50c1tldmVudE5hbWVdLnNwbGljZShldmVudHNbZXZlbnROYW1lXS5pbmRleE9mKGYpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBzdWJzY3JpYmUsIHB1Ymxpc2gsIHVuc3Vic2NyaWJlIH07XG4iLCJmdW5jdGlvbiBzY29yZUJvYXJkRmFjdG9yeShwbGF5ZXIsIGNvbXB1dGVyKSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnc2NvcmVib2FyZCcpO1xuXG4gIGNvbnN0IHdpbm5lclRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHdpbm5lclRleHQuY2xhc3NMaXN0LmFkZCgnd2lubmVyLXRleHQnKTtcblxuICBjb25zdCBwbGF5ZXJTY29yZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBwbGF5ZXJOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHBsYXllck5hbWUudGV4dENvbnRlbnQgPSBwbGF5ZXIubmFtZTtcbiAgY29uc3QgcGxheWVyU2NvcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHBsYXllclNjb3JlRGl2LmFwcGVuZChwbGF5ZXJOYW1lLCBwbGF5ZXJTY29yZSk7XG5cbiAgY29uc3QgY29tcHV0ZXJTY29yZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBjb21wdXRlck5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29tcHV0ZXJOYW1lLnRleHRDb250ZW50ID0gY29tcHV0ZXIubmFtZTtcbiAgY29uc3QgY29tcHV0ZXJTY29yZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgY29tcHV0ZXJTY29yZURpdi5hcHBlbmQoY29tcHV0ZXJOYW1lLCBjb21wdXRlclNjb3JlKTtcblxuICBjb25zdCBzY29yZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc2NvcmVzLmFwcGVuZChwbGF5ZXJTY29yZURpdiwgY29tcHV0ZXJTY29yZURpdik7XG4gIHNjb3Jlcy5jbGFzc0xpc3QuYWRkKCdzY29yZXMnKTtcblxuICBjb250YWluZXIuYXBwZW5kKHdpbm5lclRleHQsIHNjb3Jlcyk7XG5cbiAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgIHBsYXllclNjb3JlLnRleHRDb250ZW50ID0gcGxheWVyLnNjb3JlO1xuICAgIGNvbXB1dGVyU2NvcmUudGV4dENvbnRlbnQgPSBjb21wdXRlci5zY29yZTtcbiAgfTtcblxuICBjb25zdCBkaXNwbGF5V2lubmVyID0gKHdpbm5lck5hbWUpID0+IHtcbiAgICB3aW5uZXJUZXh0LnRleHRDb250ZW50ID0gYCR7d2lubmVyTmFtZX0gd29uIHRoZSByb3VuZCFgO1xuICB9O1xuXG4gIGNvbnN0IGhpZGVXaW5uZXIgPSAoKSA9PiB7XG4gICAgd2lubmVyVGV4dC50ZXh0Q29udGVudCA9ICcnO1xuICB9O1xuXG4gIHVwZGF0ZSgpO1xuXG4gIHJldHVybiB7XG4gICAgY29udGFpbmVyLFxuICAgIHVwZGF0ZSxcbiAgICBkaXNwbGF5V2lubmVyLFxuICAgIGhpZGVXaW5uZXIsXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNjb3JlQm9hcmRGYWN0b3J5O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9